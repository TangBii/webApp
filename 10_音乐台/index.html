<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0">
   <title>音乐台</title>
   <link rel="stylesheet" href="css/index.css">

</head>
<body>
   <div id="wrap">
      <div class="scrollContent ">
         <div class="header">
            <div class="up">
               <div class="logo"><img src="img/logo.png" alt=""></div>
               <div class="breadNav"></div>
               <ul class="btns">
                  <li class="li-border"><a href="javascript:;">登陆</a></li>
                  <li><a href="javascript:;">注册</a></li>
               </ul>
            </div>
            <div class="down">
               <form action="post">
                  <input type="text" placeholder="搜索">
                  <input type="submit" value="搜索">
               </form>
            </div>
            <div class="mask">
               <li>首页</li>
               <li>MV</li>
               <li>悦单</li>
               <li>V榜</li>
               <li>音乐</li>
               <li>商城</li>
               <li>节目</li>
               <li>App下载</li>
            </div>
         </div>
         <div class="content">
            <div class="nav">
               <ul class="list">
                  <li class="active"><a href="javascript:;">首页</a></li>
                  <li><a href="javascript:;">MV</a></li>
                  <li><a href="javascript:;">V榜</a></li>
                  <li><a href="javascript:;">娱乐</a></li>
                  <li><a href="javascript:;">商城</a></li>
                  <li><a href="javascript:;">众筹</a></li>
                  <li><a href="javascript:;">App下载</a></li>
                  <li><a href="javascript:;">众筹1</a></li>
                  <li><a href="javascript:;">众筹2</a></li>
                  <li><a href="javascript:;">众筹3</a></li>
                  <li><a href="javascript:;">众筹4</a></li>
                  <li><a href="javascript:;">众筹5</a></li>
                  <li><a href="javascript:;">众筹6</a></li>
                  <li><a href="javascript:;">众筹7</a></li>
                  <li><a href="javascript:;">众筹8</a></li>
                  <li><a href="javascript:;">众筹9</a></li>
               </ul>
            </div>
            <div class="carousel"  carouselLoop carouselPoints carouselAuto >
               <ul class="carouselList"></ul>
            </div>
            <div class="showWrap">
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">MV首播</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">娱乐</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">热播推荐</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">猜你喜欢</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">猜你喜欢2</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">猜你喜欢3</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
               <div class="showBox">
                  <div class="showHeader">
                     <h2 class="title">猜你喜欢4</h2>
                     <span class="more">更多&gt;&gt;</span>
                  </div>
                  <div class="showNav"><a href="javascript:;">全部</a><a href="javascript:;">内地</a><a href="javascript:;">港台</a><a href="javascript:;">欧美</a><a href="javascript:;">韩国</a><a href="javascript:;">日本</a>
                     <p class="line"></p>
                  </div>
                  <div class="showContent">
                     <ul class="loading"></ul>
                     <ul class="showList">
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/a.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/b.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/c.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/d.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/e.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>
                        <li class="item">
                           <a href="javascript:;">
                              <img src="img/f.jpg" alt="">
                              <span class="describe">君に贈る花がないがないがないがないがないがないがない</span>
                              <div class="info">
                                 <p class="pageView"><span class="ico"></span>9176</p>
                                 <p class="comment"><span class="ico"></span>6</p>
                              </div>

                           </a>
                        </li>

                     </ul>
                     <ul class="loading"></ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="scrollLine"></div>
   </div>
   <script type="text/javascript" src="js/tools.js"></script>
   <script type="text/javascript" src="js/transform.js"></script>
   <script type="text/javascript" src="js/carousel.js"></script>
<script type="text/javascript">
  window.onload = function () {
    var wrap = document.querySelector('#wrap')
    var btn = document.querySelector('.header > .up > .breadNav')
    var mask = document.querySelector('.header > .mask')
    var isOpen = false
    var searchInput = document.querySelector('.header > .down > form > input[type="text"]')
    var nav = document.querySelector('.content > .nav')
    var navList = document.querySelector('.content > .nav > .list')
    var navlis =document.querySelectorAll('.content > .nav > .list > li')
    var imgArr = ['1.jpg', '2.jpg', '3.jpg', '4.jpg', '5.jpg']
    var showContent = document.querySelectorAll('.content .showWrap .showBox .showContent')

    // 阻止事件默认行为
    document.addEventListener('touchstart',function (ev) {
      ev = ev || event
      ev.preventDefault()
    })
    // wrap滚动条
    wrap.addEventListener('touchstart',function (ev) {
      ev = ev || event
      ev.stopPropagation()
      ev.preventDefault()
    })
    // rem适配
    ;(function () {
      var styleNode = document.createElement('style')
      var w = document.documentElement.clientWidth / 16
      styleNode.innerHTML = 'html{font-size:'+w+'px!important;}'
      document.head.appendChild(styleNode)
    })()
    //频道按钮
    btnToggle()
    function btnToggle() {
      btn.addEventListener('touchstart',function (ev) {
        ev = ev || event
        if(!isOpen){
          tools.addClass(btn,'active')
          mask.style.display = 'block'
        }
        else {
          tools.removeClass(btn,'active')
          mask.style.display = 'none'
        }
        isOpen = !isOpen
        ev.stopPropagation()
        ev.preventDefault()
      })
      mask.addEventListener('touchstart',function (ev) {
        ev = ev || event
        ev.stopPropagation()
        ev.preventDefault()
      })
    }
    document.addEventListener('touchstart',function () {
      tools.removeClass(btn,'active')
      mask.style.display = 'none'
      isOpen = false
    })
    //搜索框获焦
    searchInput.addEventListener('touchstart',function (ev) {
      ev = ev || event
      this.focus()  //弹出键盘
      ev.stopPropagation()
    })
    document.addEventListener('touchstart',function () {
      searchInput.blur()
    })
    // 导航条
    navSliding()
    function navSliding() {
      var elementX = 0
      var touchStart = 0
      var touchMove = 0
      var distance = 0
      var startTime = 0
      var startPosition = 0
      var endTime = 0
      var speed = 0
      nav.addEventListener('touchstart',function (ev) {
        speed = 0
        navList.style.transition = 'none'
        ev = ev || event
        var touch = ev.changedTouches[0]
        touchStart = touch.clientX
        elementX = css(navList,'translateX')
        startTime = new Date().getTime()
        startPosition = touchStart
      })
      nav.addEventListener('touchmove',function (ev) {
        ev = ev || event
        var touch = ev.changedTouches[0]
        touchMove = touch.clientX - startPosition
        distance = css(navList,'translateX') + touchMove
        var flag = 10
        if(distance > 0){
          touchMove = touchMove * (flag / (flag + touchMove))
        }
        else if(distance < nav.clientWidth - navList.offsetWidth){
          touchMove = touchMove * (flag / (flag - touchMove))
        }
        distance =css(navList,'translateX') + touchMove
        css(navList,'translateX',distance)
        endTime = new Date().getTime()
        speed = touchMove / (endTime - startTime)
        startTime = endTime
        startPosition = touch.clientX
      })
      nav.addEventListener('touchend',function () {
        elementX = css(navList,'translateX')
        var bsr = ''
        if(Math.abs(speed) > 0.5){
          distance = elementX + speed * 180
          var transitionTime = Math.abs(speed) * 0.2 < 2? Math.abs(speed) * 0.2 : 2
          if(distance > 0 || distance < nav.clientWidth - navList.offsetWidth){
            bsr = "cubic-bezier(.26,1.51,.68,1.54) "
          }
          navList.style.transition = transitionTime+'s '+bsr+' transform'

        }
          if(distance > 0){
           distance = 0
          }
          else if(distance < nav.clientWidth - navList.offsetWidth){
            distance = nav.clientWidth - navList.offsetWidth - 10
        }
        css(navList,'translateX',distance)
      })



    }
    //无缝滑屏
   carouselElement(imgArr)
    //导航选中切换
       navList.addEventListener('touchstart',function () {
         this.isMove =false
       })
       navList.addEventListener('touchmove',function () {
            this.isMove = true
       })
       navList.addEventListener('touchend',function (ev) {
      if(!this.isMove){
        ev = ev || event
        var touch = ev.changedTouches[0]
        for(var i = 0; i< navlis.length;i++){
          tools.removeClass(navlis[i],'active')
        }
        tools.addClass(touch.target.parentNode,'active')
      }
    })
    // 内容区切换
    contentPageChange();
    function contentPageChange() {
      for(var i = 0; i < showContent.length; i++){
         change(showContent[i])
      }
      function change(showContent) {
        var showList = showContent.querySelector('.showList')
        var loading = showContent.querySelectorAll('.loading')
        var line = showContent.parentNode.querySelector('.line')
        var item = document.querySelectorAll('.showBox')
        var navitem = document.querySelectorAll('.showNav a')
        var navWidth = navitem[0].offsetWidth
        var w = showList.offsetWidth
        var touchStart = {x:0,y:0}
        var timeStart = 0
        var speed = 0
        var isX = true
        var isFirst = true
        var elementTarget = 0
        var isLoading = false
        var index = 0

        // 初始化
        css(showContent,'translateX',-w)
        line.style.transition = '.8s'
        showContent.addEventListener('touchstart',function (ev) {
          if(isLoading){
            return
          }
          ev = ev || event
          var touch = ev.changedTouches[0]
          speed = 0
          isX = true
          isFirst = true
          elementTarget = -w
          showContent.style.transition = 'none'
          loading[1].style.opacity = 0
          loading[0].style.opacity = 0
          touchStart.x = touch.clientX
          touchStart.y = touch.clientY
          timeStart = new Date().getTime()
        })
        showContent.addEventListener('touchmove',function (ev) {
          if(isLoading){
            return
          }
          if(isX){
            ev = ev || event
            var touch = ev.changedTouches[0]
            var touchMove ={x:0,y:0}
            touchMove.x = touch.clientX - touchStart.x
            touchMove.y = touch.clientY - touchStart.y
            // 防抖动
            if(isFirst && Math.abs(touchMove.y) > Math.abs(touchMove.x)){
               isX = false
               return
            }
            isFirst = false
            timeEnd = new Date().getTime()
            speed = touchMove.x / (timeEnd - timeStart)
            elementTarget = css(showContent,'translateX') + touchMove.x
            touchStart.x = touch.clientX
            timeStart = timeEnd
            css(showContent,'translateX',elementTarget)
          }

        })
        showContent.addEventListener('touchend',function () {
          if(isLoading){
            return
          }
          if(Math.abs(speed) > 0.3){
            showContent.style.transition = '.5s transform'
            elementTarget = speed > 0 ? 0:-2*w
          }
          else {
            showContent.style.transition = '.3s transform'
            elementTarget = Math.round(elementTarget / w) * w
          }

          css(showContent,'translateX',elementTarget)
          if(elementTarget === -w){
            return
          }
          else if(elementTarget){
            loading[1].style.opacity = 1
            index++
          }
          else {
            loading[0].style.opacity = 1
            index--
          }
          isLoading = true
          if(index === navitem.length / item.length){
            index = 0
          }
          else if(index < 0){
            index = navitem.length / item.length - 1
          }

          css(line,'translateX',navWidth*index)
          showContent.addEventListener('webkitTransitionEnd',endFn)
          showContent.addEventListener('transitionend',endFn)
          function endFn() {
            showContent.removeEventListener('webkitTransitionEnd',endFn)
            showContent.removeEventListener('transitionend',endFn)
            // 模拟发送请求
            setTimeout(function () {
              var sequence = ['a.jpg','b.jpg','c.jpg','d.jpg','e.jpg','f.jpg',]
              var item = showContent.querySelectorAll('.item')
              for(var i = 0; i < item.length; i++){
                var img = item[i].querySelector('img')
                var index = Math.ceil(Math.random()*(sequence.length-1))
                img.src = 'img/' + sequence[index]
                sequence.splice(index,1)
              }
              showContent.style.transition = 'none'
              css(showContent,'translateX',-w)
              isLoading =false
            },100)
          }
        })




      }
    }
    // 竖向滑屏
    scrollTop()
    function scrollTop() {
      var elementTarget = 0
      var scrollContent = document.querySelector('#wrap .scrollContent')
      var touchStart = {x:0,y:0}
      var timeStart = 0
      var speed = 0
      var isY = true
      var isFirst = true
      var header = document.querySelector('.header')
      var carousel = document.querySelector('.carousel')
      var showWrap =  document.querySelector('.showWrap')
      var scrollFunction = {
        Linear: function(t,b,c,d){
          return -c *(t/=d)*(t-2) + b;
        }


      }
      var timer = null
      var scrollLine = document.querySelector('.scrollLine')
      var totalHeight = header.offsetHeight + nav.offsetHeight + carousel.offsetHeight + showWrap.offsetHeight
      var minScroll = -(totalHeight-document.documentElement.clientHeight)
      var scrollScale = document.documentElement.offsetHeight / totalHeight
      wrap.addEventListener('touchstart',function (ev) {
        totalHeight = header.offsetHeight + nav.offsetHeight + carousel.offsetHeight + showWrap.offsetHeight
        minScroll = -(totalHeight-document.documentElement.clientHeight)
        ev = ev || event
        var touch = ev.changedTouches[0]
        touchStart.x= touch.clientX
        touchStart.y = touch.clientY
        speed = 0
        isFirst = true
        isY = true
        elementTarget = css(scrollContent,'translateY')
        timeStart = new Date().getTime()
        scrollLine.style.opacity = 1
        scrollLine.style.height = scrollScale * document.documentElement.clientHeight + 'px'
        clearInterval(timer)
      })
      wrap.addEventListener('touchmove',function (ev) {
        if(!isY){
          return
        }
        ev = ev || event
        var touch = ev.changedTouches[0]
        var touchMove = {x:0,y:0}
        touchMove.x = touch.clientX - touchStart.x
        touchMove.y = touch.clientY - touchStart.y
        if(isFirst && Math.abs(touchMove.x) > Math.abs(touchMove.y)){
          isY = false
          return
        }
        isFirst = false
        elementTarget = css(scrollContent,'translateY') + touchMove.y
        var flag = 10
        if(elementTarget > 0){
          touchMove.y = touchMove.y * (flag / (flag + touchMove.y))
        }
        else if(elementTarget < minScroll){
          elementTarget = touchMove.y * (flag / (flag - touchMove.y))
        }
        elementTarget =css(scrollContent,'translateY') + touchMove.y
        css(scrollLine,'translateY',-css(scrollContent,'translateY')*scrollScale)
        css(scrollContent,'translateY',elementTarget)

        endTime = new Date().getTime()
        speed = touchMove.y / (endTime - timeStart)
        timeStart = endTime
        touchStart.y = touch.clientY
      })
      wrap.addEventListener('touchend',function () {
        elementTarget = css(scrollContent,'translateY')
        if(Math.abs(speed) > 0.3){
          elementTarget = elementTarget + speed * 250
          if(elementTarget > 0){
            elementTarget = 0
          }
          else if(elementTarget < minScroll){
            elementTarget = minScroll
          }
          var now = 0
          var startPosition = 0
          var distancePosition = 0
          startPosition = css(scrollContent,'translateY')
          distancePosition = elementTarget - startPosition
           timer = setInterval(function () {
             css(scrollLine,'translateY',-css(scrollContent,'translateY')*scrollScale)
             css(scrollContent,'translateY',scrollFunction.Linear(now,startPosition,distancePosition,30))
            if(now === 30){
              clearInterval(timer)
              scrollLine.style.opacity = 0
            }
            now++
          },1000/60)
        }else{
          if(elementTarget > 0){
            elementTarget = 0
          }
          else if(elementTarget < minScroll){
            elementTarget = minScroll
          }
          css(scrollContent,'translateY',elementTarget)
          scrollLine.style.opacity = 0
        }
      })
    }
  }
</script>
</body>
</html>